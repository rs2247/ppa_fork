!function(){"use strict";var globals="undefined"==typeof global?self:global;if("function"!=typeof globals.require){var modules={},cache={},aliases={},has={}.hasOwnProperty,expRe=/^\.\.?(\/|$)/,expand=function(root,name){for(var part,results=[],parts=(expRe.test(name)?root+"/"+name:name).split("/"),i=0,length=parts.length;i<length;i++)".."===(part=parts[i])?results.pop():"."!==part&&""!==part&&results.push(part);return results.join("/")},dirname=function(path){return path.split("/").slice(0,-1).join("/")},initModule=function(name,definition){var path,module={id:name,exports:{},hot:hmr&&hmr.createHot(name)};return cache[name]=module,definition(module.exports,(path=name,function(name){var absolute=expand(dirname(path),name);return globals.require(absolute,path)}),module),module.exports},expandAlias=function(name){var val=aliases[name];return val&&name!==val?expandAlias(val):name},require=function(name,loaderPath){null==loaderPath&&(loaderPath="/");var path=expandAlias(name);if(has.call(cache,path))return cache[path].exports;if(has.call(modules,path))return initModule(path,modules[path]);throw new Error("Cannot find module '"+name+"' from '"+loaderPath+"'")};require.alias=function(from,to){aliases[to]=from};var extRe=/\.[^.\/]+$/,indexRe=/\/index(\.[^\/]+)?$/;require.register=require.define=function(bundle,fn){if(bundle&&"object"==typeof bundle)for(var key in bundle)has.call(bundle,key)&&require.register(key,bundle[key]);else modules[bundle]=fn,delete cache[bundle],function(bundle){if(extRe.test(bundle)){var alias=bundle.replace(extRe,"");has.call(aliases,alias)&&aliases[alias].replace(extRe,"")!==alias+"/index"||(aliases[alias]=bundle)}if(indexRe.test(bundle)){var iAlias=bundle.replace(indexRe,"");has.call(aliases,iAlias)||(aliases[iAlias]=bundle)}}(bundle)},require.list=function(){var list=[];for(var item in modules)has.call(modules,item)&&list.push(item);return list};var hmr=globals._hmr&&new globals._hmr((function(name,dep){return expandAlias(expand(dirname(name),dep))}),require,modules,cache);require._cache=cache,require.hmr=hmr&&hmr.wrap,require.brunch=!0,globals.require=require}}(),function(){"undefined"==typeof window||window;require.register("web/static/js/app.js",(function(exports,require,module){"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault"),_classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck")),_createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass")),_jquery=_interopRequireDefault(require("jquery")),_logging=(_interopRequireDefault(require("lodash")),_interopRequireDefault(require("./logging"))),_navbar=_interopRequireDefault(require("./components/navbar")),_dropdown=_interopRequireDefault(require("./components/dropdown"));window.jQuery=_jquery.default,window.$=_jquery.default,require("bootstrap-sass"),_logging.default.set_level(_logging.default.INFO),Vue.filter("toDelimited",(function(value){return"number"!=typeof value?value:new Intl.NumberFormat("pt-BR",{currency:"BRL",minimumFractionDigits:2,maximumFractionDigits:2}).format(value)})),Vue.filter("toDelimitedInt",(function(value){return"number"!=typeof value?value:new Intl.NumberFormat("pt-BR",{currency:"BRL",minimumFractionDigits:0}).format(value)})),Vue.filter("toPercentage",(function(value){return"number"!=typeof value?value:new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2}).format(value)+"%"})),Vue.filter("toCurrency",(function(value){return"number"!=typeof value?value:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2}).format(value)}));var Chartjs=require("chart.js");Chartjs.plugins.register({afterDatasetsDraw:function(chartInstance,easing){if(1==easing&&chartInstance.options.extended){var drawValues=chartInstance.options.extended.drawValuesInChart,drawPercentages=chartInstance.options.extended.drawPercentageValuesInChart,useAlternativeDataSet=chartInstance.options.extended.useAlternativeDataSet,drawColor=chartInstance.options.extended.drawValuesColor,drawSize=chartInstance.options.extended.drawValuesSize,drawStyle=chartInstance.options.extended.drawValueStyle;if(drawValues||drawPercentages){var ctx=chartInstance.chart.ctx;chartInstance.data.datasets.forEach((function(dataset,i){var fullSum=0,meta=chartInstance.getDatasetMeta(i);for(i=0;i<dataset.data.length;i++)fullSum+=dataset.data[i];meta.hidden||meta.data.forEach((function(element,index){ctx.fillStyle=drawColor||"#FFFFFF";var fontSize=15;drawSize&&(fontSize=drawSize);var fontStyle="normal";drawStyle&&(fontStyle=drawStyle);if(ctx.font=Chartjs.helpers.fontString(fontSize,fontStyle,"proxima-nova"),dataset.data[index]){var percentage=(100*(dataset.data[index]/fullSum).toFixed(2)).toString(),dataString="";dataString=useAlternativeDataSet?dataset.labelsData[index].toString():dataset.data[index].toString(),ctx.textAlign="center",ctx.textBaseline="middle";var padding=5,position=element.tooltipPosition();drawPercentages&&(ctx.fillText(percentage+" %",position.x,position.y-fontSize/2-padding),padding-=25),drawValues&&ctx.fillText(dataString,position.x,position.y-fontSize/2-padding)}}))}))}if(chartInstance.options.extended.drawRectangles&&chartInstance.data.datasets.length>0)for(var _meta=chartInstance.getDatasetMeta(0),i=0;i<chartInstance.options.extended.rectangles.length;i++){var rectangle=chartInstance.options.extended.rectangles[i],xValue=rectangle.x,yValue=rectangle.y,wValue=rectangle.w,hValue=rectangle.h;if(rectangle.to_point){var tPosition=_meta.data[rectangle.to_point.index].tooltipPosition();_meta.data[0]._yScale;wValue=tPosition.x-_meta.data[0]._yScale.right+xValue,hValue=_meta.data[0]._yScale.bottom-tPosition.y+yValue}if(rectangle.to_scale_point){var _yAxes=_meta.data[0]._yScale,xAxes=_meta.data[0]._xScale,yDelta=_yAxes.ticks[0]-_yAxes.ticks[_yAxes.ticks.length-1],yDeltaScale=_meta.data[0]._yScale.bottom-_meta.data[0]._yScale.top,xMin=xAxes.ticks[0],xDelta=xAxes.ticks[xAxes.ticks.length-1]-xMin,xDeltaScale=_meta.data[0]._xScale.right-_meta.data[0]._xScale.left;wValue=rectangle.to_scale_point.x*xDeltaScale/xDelta,hValue=rectangle.to_scale_point.y*yDeltaScale/yDelta}var colorValue=rectangle.color,dashValue=rectangle.dash;if(chartInstance.chart.ctx.beginPath(),chartInstance.chart.ctx.moveTo(_meta.data[0]._yScale.right+xValue,_meta.data[0]._yScale.bottom-yValue),chartInstance.chart.ctx.lineTo(_meta.data[0]._yScale.right+xValue+wValue,_meta.data[0]._yScale.bottom-yValue),chartInstance.chart.ctx.lineTo(_meta.data[0]._yScale.right+xValue+wValue,_meta.data[0]._yScale.bottom-(yValue+hValue)),chartInstance.chart.ctx.lineTo(_meta.data[0]._yScale.right+xValue,_meta.data[0]._yScale.bottom-(yValue+hValue)),chartInstance.chart.ctx.lineTo(_meta.data[0]._yScale.right+xValue,_meta.data[0]._yScale.bottom-yValue),chartInstance.chart.ctx.strokeStyle=colorValue,chartInstance.chart.ctx.setLineDash(dashValue),chartInstance.chart.ctx.stroke(),rectangle.legend){var baseX=_meta.data[0]._yScale.right+50+170*i,baseY=_meta.data[0]._yScale.top-30;chartInstance.chart.ctx.beginPath(),chartInstance.chart.ctx.moveTo(baseX,baseY),chartInstance.chart.ctx.lineTo(baseX+50,baseY),chartInstance.chart.ctx.strokeStyle=colorValue,chartInstance.chart.ctx.setLineDash(dashValue),chartInstance.chart.ctx.stroke(),chartInstance.chart.ctx.textAlign="left",chartInstance.chart.ctx.fillStyle=rectangle.legendColor,chartInstance.chart.ctx.fillText(rectangle.legend,baseX+60,baseY)}}if(chartInstance.options.extended.drawHorizontalLine&&chartInstance.data.datasets.length>0){if(!(iPoint=chartInstance.getDatasetMeta(chartInstance.options.extended.drawHorizontalLineDataset).data[0]))return;var _position=iPoint.tooltipPosition(),step=(iPoint._yScale.bottom-iPoint._yScale.top)/(iPoint._yScale.max-iPoint._yScale.min);chartInstance.options.extended.drawHorizontalLinePoint,iPoint._yScale.min;_position=iPoint._yScale.bottom-(chartInstance.options.extended.drawHorizontalLinePoint-iPoint._yScale.min)*step,chartInstance.chart.ctx.beginPath(),chartInstance.chart.ctx.moveTo(iPoint._xScale.left,_position),chartInstance.chart.ctx.strokeStyle="#ff0000",chartInstance.chart.ctx.setLineDash([2,5]),chartInstance.chart.ctx.lineTo(iPoint._xScale.right,_position),chartInstance.chart.ctx.stroke(),chartInstance.chart.ctx.textAlign="center",chartInstance.chart.ctx.fillStyle="#FFFFFF"}if(chartInstance.options.extended.drawCurrentPointLine&&chartInstance.data.datasets.length>0){var iPoint;if(!(iPoint=chartInstance.getDatasetMeta(0).data[chartInstance.options.extended.currentPoint]))return;var position=iPoint.tooltipPosition();chartInstance.chart.ctx.beginPath(),chartInstance.chart.ctx.moveTo(position.x,iPoint._yScale.top),chartInstance.chart.ctx.strokeStyle="#ff0000",chartInstance.chart.ctx.setLineDash([2,5]),chartInstance.chart.ctx.lineTo(position.x,iPoint._yScale.bottom),chartInstance.chart.ctx.stroke(),chartInstance.chart.ctx.textAlign="center",chartInstance.chart.ctx.fillStyle=chartInstance.options.extended.drawCurrentPointFontColor||"#FFFFFF",chartInstance.chart.ctx.fillText("HOJE",position.x,5)}}}});var app=new(function(){function Application(){(0,_classCallCheck2.default)(this,Application)}return(0,_createClass2.default)(Application,[{key:"startPageComponent",value:function(){new _dropdown.default("capture_period",this.onSelectCapturePerdiod)}},{key:"onSelectCapturePerdiod",value:function(period){var $capturePeriodFormInput=$(".js-capture-period");$capturePeriodFormInput.val()!==period&&($capturePeriodFormInput.val(period),$(".js-capture-period-form").submit())}},{key:"applyPrototypes",value:function(){Number.prototype.formatMoney=function(c,d,t){var n=this,s=(c=isNaN(c=Math.abs(c))?2:c,d=void 0===d?",":d,t=void 0===t?".":t,n<0?"-":""),i=String(parseInt(n=Math.abs(Number(n)||0).toFixed(c))),j=(j=i.length)>3?j%3:0;return s+(j?i.substr(0,j)+t:"")+i.substr(j).replace(/(\d{3})(?=\d)/g,"$1"+t)+(c?d+Math.abs(n-i).toFixed(c).slice(2):"")},String.prototype.replaceAll=function(search,replacement){return this.replace(new RegExp(search,"g"),replacement)},String.prototype.parseMoney=function(){return null===this||""===this?0:parseFloat(this.replaceAll(/\./,"").replaceAll(/,/,"."))},String.prototype.isBlank=function(){return null===this||0===this.trim().length}}}]),Application}());app.applyPrototypes(),app.startPageComponent(),window.navBar=new _navbar.default})),require.register("web/static/js/components/datatable.js",(function(exports,require,module){"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck")),_createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass")),_jszip=_interopRequireDefault(require("jszip")),DataTable=function(){function DataTable(selector){var config=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,_classCallCheck2.default)(this,DataTable),this.selector=selector,this.element=$(selector),require("datatables.net")(window,jQuery),require("datatables.net-buttons")(window,jQuery),require("datatables.net-buttons/js/buttons.flash.js")(window,jQuery),window.JSZip=_jszip.default,require("datatables.net-buttons/js/buttons.html5.js")(window,jQuery),this.configDataTypes(),console.log("configDataTypes FINISHED");var buttonCustomization=this.getButtonCustomization(),baseConfig={paging:config.paging||!1,pageLength:config.pageLength||10,info:config.info||!1,searching:config.searching,searchDelay:config.searchDelay||350,dom:"Bfrtip",buttons:config.buttons||[$.extend(!0,{},buttonCustomization,{extend:"copyHtml5"}),$.extend(!0,{},buttonCustomization,{extend:"excelHtml5"}),$.extend(!0,{},buttonCustomization,{extend:"pdfHtml5"})],language:{search:"",buttons:{copy:"Copiar",copyTitle:"Copiado para a área de transferência",copySuccess:{_:"%d linhas copiadas",1:"1 linha copiada"}},emptyTable:"Nenhum registro encontrado.",paginate:{first:"Primeiro",previous:"Anterior",next:"Próximo",last:"Último"}}};config.columnDefs&&(baseConfig.columnDefs=config.columnDefs),this.dataTable=this.element.DataTable(baseConfig),config.order&&this.dataTable.order(config.order),this.dataTable.draw(),$(".dataTables_filter input").attr("placeholder","Localizar na tabela..."),$(".dataTables_filter label").append('<i class="form-control-feedback glyphicon glyphicon-search" aria-hidden="true"></i>')}return(0,_createClass2.default)(DataTable,[{key:"onFilter",value:function(func){this.dataTable.on("search.dt",func)}},{key:"getFilteredRows",value:function(){return this.dataTable.rows({filter:"applied"})}},{key:"getButtonCustomization",value:function(){var instance=this;return{exportOptions:{columns:":not(.exclude)",format:{body:function(data,row,column,node){return instance.isBrazilianCurrency(data)?instance.parseBRCurrencyToFloat(data):instance.isBrazilianFormattedNumber(data)?instance.parseBRNumberToFloat(data):data}}}}}},{key:"configDataTypes",value:function(){var _this=this;console.log("configDataTypes");var instance=this;jQuery.fn.dataTableExt.aTypes.unshift((function(sData,settings){return instance.isBrazilianCurrency(sData)?"currency":instance.isBrazilianFormattedNumber(sData)?"numbr":null})),jQuery.fn.dataTableExt.oSort["brdate-asc"]=function(x,y){return console.log("brdate-asc"),_this.parseBRDateToFloat(x)<=_this.parseBRDateToFloat(y)?-1:1},jQuery.fn.dataTableExt.oSort["brdate-desc"]=function(x,y){return console.log("brdate-desc"),_this.parseBRDateToFloat(x)>_this.parseBRDateToFloat(y)?-1:1},jQuery.fn.dataTableExt.oSort["numbr-asc"]=function(x,y){return _this.parseBRNumberToFloat(x)<=_this.parseBRNumberToFloat(y)?-1:1},jQuery.fn.dataTableExt.oSort["numbr-desc"]=function(x,y){return _this.parseBRNumberToFloat(x)>_this.parseBRNumberToFloat(y)?-1:1},jQuery.fn.dataTableExt.oSort["currency-asc"]=function(x,y){return _this.parseBRCurrencyToFloat(x)<=_this.parseBRCurrencyToFloat(y)?-1:1},jQuery.fn.dataTableExt.oSort["currency-desc"]=function(x,y){return _this.parseBRCurrencyToFloat(x)>_this.parseBRCurrencyToFloat(y)?-1:1}}},{key:"isBrazilianCurrency",value:function(str){return str.indexOf("R$")>=0}},{key:"isBrazilianDate",value:function(str){return str.indexOf("/")>=0}},{key:"isBrazilianFormattedNumber",value:function(str){return str.match(/\d+(\.\d{3})*\,\d+/g)}},{key:"parseBRCurrencyToFloat",value:function(x){return this.parseBRNumberToFloat(x.replace("R$","").replace("&nbsp;",""))}},{key:"parseBRDateToFloat",value:function(x){var parts=x.split("/");return parseFloat("".concat(parts[2]).concat(parts[1]).concat(parts[0]))}},{key:"parseBRNumberToFloat",value:function(x){var num=x.replace(/<.+?>/g,"").replace(/\./g,"").replace(",",".");return parseFloat(num)}}]),DataTable}();exports.default=DataTable})),require.register("web/static/js/components/dropdown.js",(function(exports,require,module){"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck")),_createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass")),Dropdown=function(){function Dropdown(id,onSelect){(0,_classCallCheck2.default)(this,Dropdown),this.selector="#"+id,this.onSelect=onSelect,this.updateResponsiveness(),this.setSelectedValue(this.getSelectedValue())}return(0,_createClass2.default)(Dropdown,[{key:"updateResponsiveness",value:function(){var _this=this;$(this.selector+" a").on("click",(function(e){e.preventDefault(),_this.updateSelection($(e.target))}))}},{key:"setSelectedValue",value:function(value){var selection=$(this.selector+" a[data-ref=".concat(value,"]"));selection.length>0?this.updateSelection(selection):console.log("Item not found for value: "+value)}},{key:"getSelectedValue",value:function(){return $(this.selector).attr("data-ref")}},{key:"updateSelection",value:function(element){$(this.selector+" span.flex-grow").html(element.text()),$(this.selector).attr("data-ref",element.attr("data-ref")),this.onSelect&&this.onSelect(this.getSelectedValue())}},{key:"replaceOptions",value:function(data){var dropdownList=$(this.selector+" ul");dropdownList.empty();for(var i=0,len=data.length;i<len;i++){var newElement='<li><a href="#!" data-ref="'.concat(data[i].value,'">').concat(data[i].label,"</a></li>");dropdownList.append(newElement)}this.setSelectedValue(data[0].value),this.updateResponsiveness()}}]),Dropdown}();exports.default=Dropdown})),require.register("web/static/js/components/navbar.js",(function(exports,require,module){"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck")),_createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass")),NavBar=function(){function NavBar(){(0,_classCallCheck2.default)(this,NavBar),this.setActiveLink(),this.fixNavBarOnScroll(),this.fixNavbarOverlapInMobile()}return(0,_createClass2.default)(NavBar,[{key:"fixNavBarOnScroll",value:function(){$(window).scroll((function(){$("body");var $navbar=$(".navbar");$(window).scrollTop()>=65?$navbar.hasClass("navbar-fixed-top")||($("header").css("visibility","hidden"),$navbar.addClass("navbar-fixed-top"),$("body").css("padding-top","64px")):$(window).scrollTop()<1&&($navbar.removeClass("navbar-fixed-top"),$("header").css("visibility","visible"),$("body").css("padding-top","0px"))}))}},{key:"fixNavbarOverlapInMobile",value:function(){$("#js-navbar-button").on("click",(function(){$(".navbar").addClass("navbar-fixed-top")}))}},{key:"setActiveLink",value:function(){$(".navbar__link, .navbar__dropdown__link").each((function(){var linkAddress=$(this).attr("href");window.location.toString().indexOf(linkAddress)>=0&&$(this).closest(".navbar__item").addClass("active")}))}}]),NavBar}();exports.default=NavBar})),require.register("web/static/js/logging.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var logging_level=0;function _print(message,level,prefix){level<=logging_level&&("string"==typeof message?console.log(prefix+message):console.log(prefix+JSON.stringify(message)))}var _default={DEBUG:15,INFO:10,WARN:5,ERROR:0,set_level:function(level){logging_level=level},debug:function(message){_print(message,15,"[DEBUG]: ")},info:function(message){_print(message,10,"[INFO]: ")},warn:function(message){Rollbar.warning(message),_print(message,5,"[WARN]: ")},error:function(message){_print(message,0,"[ERROR]: ")}};exports.default=_default})),require.register("web/static/js/socket.js",(function(exports,require,module){"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.joinSingleChannel=function(identification,type,callback,params){var channel=socket.channel(identification,params);channel.join().receive("ok",(function(resp){console.log("Joined successfully "+type,resp),callback(type,channel,resp)})).receive("error",(function(resp){console.log("Unable to join "+type,resp)}))},exports.socket=void 0;var _phoenix=require("phoenix"),_token=_interopRequireDefault(require("./token")),token=(_interopRequireDefault(require("./logging")),(0,_token.default)()),socket=new _phoenix.Socket("/socket",{params:{token:token}});exports.socket=socket,socket.connect()})),require.register("web/static/js/sold-courses-panel.js",(function(exports,require,module){"use strict";var _soldCoursesPanel=require("@babel/runtime/helpers/interopRequireDefault")(require("../templates/sold-courses-panel")),_socket=require("./socket");require("./app");var capturePeriod=document.getElementById("capture-period").value,channelHash=document.getElementById("channel-hash").value,loaded=!1;(0,_socket.joinSingleChannel)("sold_courses:data:".concat(channelHash),"panel",(function(channel_type,channel,params){window.SoldCoursesChannel=channel,console.log("channel joined. loaded: "+loaded),loaded||(loaded=!0,window.vueApp=new Vue({el:"#app",mounted:function(){console.log("app ready")},render:function(h){return h(_soldCoursesPanel.default)}}))}),{capturePeriod:capturePeriod})})),require.register("web/static/js/token.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){if(document.getElementById("token"))return document.getElementById("token").value}})),require.register("web/static/templates/custom-search-multiselect.vue",(function(exports,require,module){!function(){"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default={data:function(){return{selectedValue:null,sugestions:[]}},components:{Multiselect:_interopRequireDefault(require("vue-multiselect")).default},props:["value","options","label","placeholder","selectLabel","deselectLabel","selectedLabel","multiple","trackBy"],watch:{options:function(value){this.sugestions=this.options},value:function(_value){this.selectedValue=_value}},mounted:function(){this.sugestions=this.options},methods:{valueSelected:function(data){var _this=this;this.$nextTick((function(){_this.$emit("select",_this.selectedValue),_this.$emit("input",_this.selectedValue)}))},valueRemoved:function(){var _this2=this;this.$nextTick((function(){_this2.$emit("remove"),_this2.$emit("input",_this2.selectedValue)}))},customSearch:function(data,id){if(""!=data){var filteredData=data.normalize("NFD").replace(/[\u0300-\u036f]/g,"");this.sugestions=this.options.filter((function(item_data){return item_data.name.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toUpperCase().includes(filteredData.toUpperCase())}))}else this.sugestions=this.options}}};exports.default=_default}(),module.exports.__esModule&&(module.exports=module.exports.default);var __vue__options__="function"==typeof module.exports?module.exports.options:module.exports;__vue__options__.render=function(){var _vm=this,_h=_vm.$createElement;return(_vm._self._c||_h)("multiselect",{attrs:{"internal-search":!1,options:_vm.sugestions,label:_vm.label,placeholder:_vm.placeholder,selectLabel:_vm.selectLabel,deselectLabel:_vm.deselectLabel,selectedLabel:_vm.selectedLabel,multiple:_vm.multiple,"track-by":_vm.trackBy},on:{select:_vm.valueSelected,remove:_vm.valueRemoved,"search-change":_vm.customSearch},model:{value:_vm.selectedValue,callback:function($$v){_vm.selectedValue=$$v},expression:"selectedValue"}})},__vue__options__.staticRenderFns=[]})),require.register("web/static/templates/location-filter.vue",(function(exports,require,module){!function(){"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _lodash=_interopRequireDefault(require("lodash")),_vueMultiselect=_interopRequireDefault(require("vue-multiselect")),_customSearchMultiselect=_interopRequireDefault(require("./custom-search-multiselect")),_default2={data:function(){return{locationType:null,locationRegion:null,locationState:null,locationCity:null,locationCampus:null,campusFilterLoading:!1,cityFilterLoading:!1,locationCities:[],locationStates:[],locationRegions:[]}},props:{classMultiplier:{type:Number,default:2},locationOptions:{type:Array,default:function(){return[]}},regionsOptions:{type:Array,default:function(){return[]}},statesOptions:{type:Array,default:function(){return[]}},citiesOptions:{type:Array,default:function(){return[]}},campusOptions:{type:Array,default:function(){return[]}}},components:{Multiselect:_vueMultiselect.default,CsMultiselect:_customSearchMultiselect.default},computed:{defaultClass:function(){return"col-md-".concat(this.classMultiplier," col-sm-").concat(3*this.classMultiplier)},regionsFilter:function(){return!_lodash.default.isNil(this.locationType)&&""!=this.locationType&&"regions"==this.locationType.type},regionFilter:function(){return!_lodash.default.isNil(this.locationType)&&""!=this.locationType&&"region"==this.locationType.type},stateFilter:function(){return!_lodash.default.isNil(this.locationType)&&""!=this.locationType&&"state"==this.locationType.type},statesFilter:function(){return!_lodash.default.isNil(this.locationType)&&""!=this.locationType&&"states"==this.locationType.type},cityFilter:function(){return!_lodash.default.isNil(this.locationType)&&""!=this.locationType&&"city"==this.locationType.type},citiesFilter:function(){return!_lodash.default.isNil(this.locationType)&&""!=this.locationType&&"cities"==this.locationType.type},campusFilter:function(){return!_lodash.default.isNil(this.locationType)&&""!=this.locationType&&"campus"==this.locationType.type}},methods:{locationValue:function(){if(this.locationType){var locationType=this.locationType.type;if("region"==locationType)return this.locationRegion;if("state"==locationType)return this.locationState;if("city"==locationType)return this.locationCity;if("campus"==locationType)return this.locationCampus;if("regions"==locationType)return this.locationRegions;if("states"==locationType)return this.locationStates;if("cities"==locationType)return this.locationCities}},locationFilter:function(){if(this.locationType)return this.locationType.type},setCitiesLoader:function(value){this.cityFilterLoading=value},setCampusLoader:function(value){this.campusFilterLoading=value},locationTypeSelected:function(data){console.log("locationTypeSelected# data: "+JSON.stringify(data)),this.locationCity="",this.locationRegion="",this.locationState="",this.locationCampus="",this.locationCities=[],this.locationStates=[],this.locationRegions=[];var eventType="".concat(data.type,"LocationSelected");console.log("locationTypeSelected# eventType: "+eventType),this.$emit(eventType)},locationTypeRemoved:function(data){var _this=this;this.$nextTick((function(){console.log("locationTypeRemoved data: "+JSON.stringify(data)+" locationType: "+JSON.stringify(_this.locationType)),_this.$emit("locationTypeRemoved"),_this.locationTypeSelected(data)}))},locationValueSelected:function(data){var _this2=this;console.log("locationValueSelected data: "+JSON.stringify(data)),this.$nextTick((function(){_this2.$emit("locationValueSelected")}))},validateFilter:function(){if(!_lodash.default.isNil(this.locationType))if("regions"==this.locationType.type){if(_lodash.default.isEmpty(this.locationRegions))return alert("Selecione pelo menos uma região"),!1}else if("region"==this.locationType.type){if(""==this.locationRegion)return alert("Selecione a região"),!1}else if("state"==this.locationType.type){if(""==this.locationState)return alert("Selecione o estado"),!1}else if("states"==this.locationType.type){if(_lodash.default.isEmpty(this.locationStates))return alert("Selecione pelo menos um estado"),!1}else if("city"==this.locationType.type){if(""==this.locationCity)return alert("Selecione a cidade"),!1}else if("cities"==this.locationType.type){if(_lodash.default.isEmpty(this.locationCities))return alert("Selecione pelo menos uma cidade"),!1}else if("campus"==this.locationType.type&&""==this.locationCampus)return alert("Selecione o campus"),!1;return!0}}};exports.default=_default2}(),module.exports.__esModule&&(module.exports=module.exports.default);var __vue__options__="function"==typeof module.exports?module.exports.options:module.exports;__vue__options__.render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("div",{class:_vm.defaultClass},[_c("div",[_c("label",{attrs:{for:"location-filter"}},[_vm._v("LOCALIZACAO")]),_vm._v(" "),_c("multiselect",{attrs:{options:_vm.locationOptions,label:"name","track-by":"type",placeholder:"Todas as localizaçoes",selectLabel:"",deselectLabel:"",selectedLabel:"Selecionado"},on:{select:_vm.locationTypeSelected,remove:_vm.locationTypeRemoved},model:{value:_vm.locationType,callback:function($$v){_vm.locationType=$$v},expression:"locationType"}})],1)]),_vm._v(" "),_c("div",{directives:[{name:"show",rawName:"v-show",value:_vm.regionFilter,expression:"regionFilter"}],class:_vm.defaultClass},[_c("div",[_c("label",{attrs:{for:"region-filter"}},[_vm._v("REGIÃO")]),_vm._v(" "),_c("multiselect",{attrs:{options:_vm.regionsOptions,label:"name",placeholder:"Selecione a região",selectLabel:"",deselectLabel:"",selectedLabel:"Selecionado"},on:{select:_vm.locationValueSelected},model:{value:_vm.locationRegion,callback:function($$v){_vm.locationRegion=$$v},expression:"locationRegion"}})],1)]),_vm._v(" "),_c("div",{directives:[{name:"show",rawName:"v-show",value:_vm.regionsFilter,expression:"regionsFilter"}],class:_vm.defaultClass},[_c("div",[_c("label",{attrs:{for:"region-filter"}},[_vm._v("REGIÕES")]),_vm._v(" "),_c("multiselect",{attrs:{options:_vm.regionsOptions,multiple:!0,"track-by":"type",label:"name",placeholder:"Selecione as regiões",selectLabel:"",deselectLabel:"",selectedLabel:"Selecionado"},on:{select:_vm.locationValueSelected},model:{value:_vm.locationRegions,callback:function($$v){_vm.locationRegions=$$v},expression:"locationRegions"}})],1)]),_vm._v(" "),_c("div",{directives:[{name:"show",rawName:"v-show",value:_vm.stateFilter,expression:"stateFilter"}],class:_vm.defaultClass},[_c("div",[_c("label",{attrs:{for:"state-filter"}},[_vm._v("ESTADO")]),_vm._v(" "),_c("cs-multiselect",{attrs:{id:"state-filter",options:_vm.statesOptions,label:"name",placeholder:"Selecione o estado",selectLabel:"",deselectLabel:"",selectedLabel:"Selecionado"},on:{select:_vm.locationValueSelected},model:{value:_vm.locationState,callback:function($$v){_vm.locationState=$$v},expression:"locationState"}})],1)]),_vm._v(" "),_c("div",{directives:[{name:"show",rawName:"v-show",value:_vm.statesFilter,expression:"statesFilter"}],class:_vm.defaultClass},[_c("div",[_c("label",{attrs:{for:"state-filter"}},[_vm._v("ESTADOS")]),_vm._v(" "),_c("cs-multiselect",{attrs:{id:"state-filter",options:_vm.statesOptions,"track-by":"type",multiple:!0,label:"name",placeholder:"Selecione os estados",selectLabel:"",deselectLabel:"",selectedLabel:"Selecionado"},on:{select:_vm.locationValueSelected},model:{value:_vm.locationStates,callback:function($$v){_vm.locationStates=$$v},expression:"locationStates"}})],1)]),_vm._v(" "),_c("div",{directives:[{name:"show",rawName:"v-show",value:_vm.cityFilter,expression:"cityFilter"}],class:_vm.defaultClass},[_vm.cityFilterLoading?_c("div",{staticClass:"transparent-loader"},[_c("div",{staticClass:"loader"})]):_vm._e(),_vm._v(" "),_c("div",[_c("label",{attrs:{for:"city-filter"}},[_vm._v("CIDADE")]),_vm._v(" "),_c("cs-multiselect",{attrs:{options:_vm.citiesOptions,label:"name",placeholder:"Selecione a cidade",selectLabel:"",deselectLabel:"",selectedLabel:"Selecionado"},on:{select:_vm.locationValueSelected},model:{value:_vm.locationCity,callback:function($$v){_vm.locationCity=$$v},expression:"locationCity"}})],1)]),_vm._v(" "),_c("div",{directives:[{name:"show",rawName:"v-show",value:_vm.citiesFilter,expression:"citiesFilter"}],class:_vm.defaultClass},[_vm.cityFilterLoading?_c("div",{staticClass:"transparent-loader"},[_c("div",{staticClass:"loader"})]):_vm._e(),_vm._v(" "),_c("div",[_c("label",{attrs:{for:"city-filter"}},[_vm._v("CIDADES")]),_vm._v(" "),_c("cs-multiselect",{attrs:{options:_vm.citiesOptions,multiple:!0,label:"name","track-by":"name",placeholder:"Selecione as cidades",selectLabel:"",deselectLabel:"",selectedLabel:"Selecionado"},on:{select:_vm.locationValueSelected},model:{value:_vm.locationCities,callback:function($$v){_vm.locationCities=$$v},expression:"locationCities"}})],1)]),_vm._v(" "),_c("div",{directives:[{name:"show",rawName:"v-show",value:_vm.campusFilter,expression:"campusFilter"}],class:_vm.defaultClass},[_vm.campusFilterLoading?_c("div",{staticClass:"transparent-loader"},[_c("div",{staticClass:"loader"})]):_vm._e(),_vm._v(" "),_c("div",[_c("label",{attrs:{for:"campus-filter"}},[_vm._v("CAMPUS")]),_vm._v(" "),_c("multiselect",{attrs:{options:_vm.campusOptions,label:"name",placeholder:"Selecione o campus",selectLabel:"",deselectLabel:"",selectedLabel:"Selecionado"},on:{select:_vm.locationValueSelected},model:{value:_vm.locationCampus,callback:function($$v){_vm.locationCampus=$$v},expression:"locationCampus"}})],1)])])},__vue__options__.staticRenderFns=[]})),require.register("web/static/templates/sold-courses-panel.vue",(function(exports,require,module){!function(){"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;_interopRequireDefault(require("lodash"));var _datatable=_interopRequireDefault(require("../js/components/datatable")),_vueMultiselect=_interopRequireDefault(require("vue-multiselect")),_locationFilter=_interopRequireDefault(require("./location-filter")),_customSearchMultiselect=_interopRequireDefault(require("./custom-search-multiselect")),_default={data:function(){return{loading:!0,tableData:[],table:null,filterKinds:null,filterLevels:null,kindOptions:[],levelOptions:[],locationOptions:[],regionsOptions:[],statesOptions:[],citiesOptions:[],universityOptions:[],filterIes:[],iesFilterLoading:!1}},mounted:function(){var _this=this;SoldCoursesChannel.on("tableData",(function(payload){return _this.receiveTableData(payload)})),SoldCoursesChannel.on("filters",(function(payload){return _this.receiveFilters(payload)})),SoldCoursesChannel.on("citiesComplete",(function(payload){return _this.receiveCitiesComplete(payload)})),SoldCoursesChannel.on("universitiesComplete",(function(payload){return _this.receiveUniversitiesComplete(payload)})),this.loadFilters(),this.loadUniversities()},components:{Multiselect:_vueMultiselect.default,LocationFilter:_locationFilter.default,CsMultiselect:_customSearchMultiselect.default},methods:{kindValueSelected:function(){this.loadData(),this.loadUniversities(),"city"==this.$refs.locationFilter.locationFilter()&&this.loadCities()},levelValueSelected:function(){this.loadData(),this.loadUniversities(),"city"==this.$refs.locationFilter.locationFilter()&&this.loadCities()},iesValueSelected:function(){this.loadData(),"city"==this.$refs.locationFilter.locationFilter()&&this.loadCities()},locationRemoved:function(){this.loadData(),this.loadUniversities()},loadCities:function(){this.$refs.locationFilter.setCitiesLoader(!0);var params=this.filterParams();SoldCoursesChannel.push("completeCities",params).receive("timeout",(function(data){console.log("complete timeout")}))},locationSelected:function(){this.loadData(),this.loadUniversities()},receiveCitiesComplete:function(data){this.citiesOptions=data.cities,this.$refs.locationFilter.setCitiesLoader(!1)},receiveUniversitiesComplete:function(data){this.universityOptions=data.universities,this.iesFilterLoading=!1},receiveFilters:function(data){this.kindOptions=data.kinds,this.levelOptions=data.levels,this.locationOptions=data.locations,this.regionsOptions=data.regions,this.statesOptions=data.states,this.loadData()},receiveTableData:function(data){var _this2=this;console.log("receiveTableData"),this.tableData=data.courses,this.showIes=data.show_ies_column,this.loading=!1,this.$nextTick((function(){var ordering=5;_this2.showIes&&(ordering=6),_this2.table=new _datatable.default("#report-table",{paging:!0,deferRender:!0,searchDelay:500,pageLength:10,order:[ordering,"desc"]})}))},loadUniversities:function(){this.iesFilterLoading=!0;var params=this.filterParams();SoldCoursesChannel.push("completeUniversities",params).receive("timeout",(function(data){console.log("completeUniversities timeout")}))},loadFilters:function(){SoldCoursesChannel.push("loadFilters").receive("timeout",(function(data){console.log("filters timeout")}))},filterParams:function(){var params={kinds:this.filterKinds,levels:this.filterLevels,universities:this.filterIes};return this.$refs.locationFilter.locationValue()&&(params.locationType=this.$refs.locationFilter.locationFilter(),params.locationValue=this.$refs.locationFilter.locationValue()),params},loadData:function(){this.tableData=[];var params=this.filterParams();SoldCoursesChannel.push("loadData",params).receive("timeout",(function(data){console.log("load timeout")}))}}};exports.default=_default}(),module.exports.__esModule&&(module.exports=module.exports.default);var __vue__options__="function"==typeof module.exports?module.exports.options:module.exports;__vue__options__.render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"container-fluid",staticStyle:{position:"relative"}},[_vm._m(0),_vm._v(" "),_c("div",{staticClass:"row"},[_vm.loading?_c("div",{staticClass:"transparent-loader"},[_c("div",{staticClass:"loader"})]):_vm._e(),_vm._v(" "),_c("div",{staticClass:"col-md-12"},[_c("div",{staticClass:"panel panel-default"},[_c("div",{staticClass:"panel-body no-lat-padding"},[_c("div",{staticClass:"row"},[_c("div",{staticClass:"col-md-2 col-sm-6"},[_c("div",[_c("label",{attrs:{for:"kind-filter"}},[_vm._v("MODALIDADE")]),_vm._v(" "),_c("multiselect",{attrs:{options:_vm.kindOptions,multiple:!0,label:"name","track-by":"id",placeholder:"Todas as modalidades",selectLabel:"",deselectLabel:""},on:{input:_vm.kindValueSelected},model:{value:_vm.filterKinds,callback:function($$v){_vm.filterKinds=$$v},expression:"filterKinds"}})],1)]),_vm._v(" "),_c("div",{staticClass:"col-md-2 col-sm-6"},[_c("div",[_c("label",{attrs:{for:"level-filter"}},[_vm._v("NÍVEL")]),_vm._v(" "),_c("multiselect",{attrs:{options:_vm.levelOptions,multiple:!0,label:"name","track-by":"id",placeholder:"Todos os níveis",selectLabel:"",deselectLabel:""},on:{input:_vm.levelValueSelected},model:{value:_vm.filterLevels,callback:function($$v){_vm.filterLevels=$$v},expression:"filterLevels"}})],1)]),_vm._v(" "),_c("location-filter",{ref:"locationFilter",attrs:{"location-options":_vm.locationOptions,"regions-options":_vm.regionsOptions,"states-options":_vm.statesOptions,"cities-options":_vm.citiesOptions},on:{cityLocationSelected:_vm.loadCities,locationValueSelected:_vm.locationSelected,locationTypeRemoved:_vm.locationRemoved}})],1),_vm._v(" "),_c("div",{staticClass:"row"},[_c("div",{staticClass:"col-md-4 col-sm-6"},[_vm.iesFilterLoading?_c("div",{staticClass:"transparent-loader"},[_c("div",{staticClass:"loader"})]):_vm._e(),_vm._v(" "),_c("div",[_c("label",{attrs:{for:"kind-filter"}},[_vm._v("IES")]),_vm._v(" "),_c("cs-multiselect",{attrs:{options:_vm.universityOptions,multiple:!0,label:"name","track-by":"id",placeholder:"Todas as IES's",selectLabel:"",deselectLabel:""},on:{input:_vm.iesValueSelected},model:{value:_vm.filterIes,callback:function($$v){_vm.filterIes=$$v},expression:"filterIes"}})],1)])])])])])]),_vm._v(" "),_vm.tableData.length>0?_c("div",{staticClass:"row"},[_c("div",{staticClass:"col-md-12"},[_c("div",{staticClass:"panel report-panel"},[_c("div",{staticClass:"panel-body no-lat-padding"},[_c("table",{staticClass:"data-table sticky-header",attrs:{id:"report-table"}},[_c("thead",{attrs:{id:"table-header"}},[_c("tr",[_vm.showIes?_c("th",[_vm._v("IES")]):_vm._e(),_vm._v(" "),_c("th",[_vm._v("Curso")]),_vm._v(" "),_c("th",[_vm._v("Modalidade")]),_vm._v(" "),_c("th",[_vm._v("Nível")]),_vm._v(" "),_c("th",[_vm._v("Cidade")]),_vm._v(" "),_c("th",[_vm._v("Estado")]),_vm._v(" "),_c("th",[_vm._v("Pagos")]),_vm._v(" "),_c("th",[_vm._v("Desconto médio")]),_vm._v(" "),_c("th",[_vm._v("Offered médio")])])]),_vm._v(" "),_c("tbody",_vm._l(_vm.tableData,(function(course){return _c("tr",[_vm.showIes?_c("td",[_vm._v(_vm._s(course.university_name))]):_vm._e(),_vm._v(" "),_c("td",[_vm._v(_vm._s(course.clean_canonical_course_name))]),_vm._v(" "),_c("td",[_vm._v(_vm._s(course.parent_kind_name))]),_vm._v(" "),_c("td",[_vm._v(_vm._s(course.parent_level_name))]),_vm._v(" "),_c("td",[_vm._v(_vm._s(course.city))]),_vm._v(" "),_c("td",[_vm._v(_vm._s(course.state))]),_vm._v(" "),_c("td",[_vm._v(_vm._s(course.paids))]),_vm._v(" "),_c("td",[_vm._v(_vm._s(course.average_discount)+" %")]),_vm._v(" "),_c("td",[_vm._v("R$ "+_vm._s(course.average_offered_price))])])})),0)])])])])]):_vm._e()])},__vue__options__.staticRenderFns=[function(){var _h=this.$createElement,_c=this._self._c||_h;return _c("div",{staticClass:"row"},[_c("div",{staticClass:"col-12"},[_c("h2",{staticClass:"content-header"},[this._v("\n        Cursos mais vendidos ( janela de 1 ano )\n      ")])])])}]})),require.alias("buffer/index.js","buffer"),require.alias("events/events.js","events"),require.alias("process/browser.js","process"),require.alias("stream-browserify/index.js","stream"),require.alias("vue/dist/vue.js","vue"),require("process"),require.register("___globals___",(function(exports,require,module){window.Vue=require("vue/dist/vue.js")}))}(),require("___globals___"),require("web/static/js/sold-courses-panel");
